#include "../../samsung/msm8917/msm8917-mdss-panels.dtsi"
#include "../../../../../../drivers/video/msm/mdss/samsung/S6D7AA0X11_TV080WXM/dsi_panel_S6D7AA0X11_TV080WXM_wxga_video.dtsi"
#include "../../../../../../drivers/video/msm/mdss/samsung/PBA_BOOTING_HD/dsi_panel_PBA_BOOTING_hd_video.dtsi"

#define GPIOF_DIR_OUT   (0 << 0)
#define GPIOF_INIT_HIGH (1 << 1)
#define GPIOF_OUT_INIT_HIGH     (GPIOF_DIR_OUT | GPIOF_INIT_HIGH)

#define REGTYPE_PANEL_RESET	0 /* control display reset */
#define REGTYPE_BL_CONFIG	1 /* BLIC initial configuration via I2c */
#define REGTYPE_GPIO_REGULATOR	2 /* GPIO regulator */

&cont_splash_mem { 
	reg = <0x0 0xA8000000 0x0 0x300000>; /*720*1280*3=2.63M =>3M*/ 
};

&mdss_mdp {
	qcom,mdss-pref-prim-intf = "dsi";
};

&mdss_dsi {
	hw-config = "single_dsi";
};

/* Unnecessary values for fixed reuglator,
 * but required by mdss_dsi_get_dt_vreg_data().
 */
#define DEFAULT_FIXED_VAL	0

&soc {
	msmgpio94_vreg: msmgpio94_vreg {
		compatible = "regulator-fixed";
		status = "okay";
		regulator-name = "msmgpio94_vreg";
		gpio = <&tlmm 94 0>;
		enable-active-high;
		regulator-boot-on;
	 };
};

&ss_dsi_panel_S6D7AA0X11_TV080WXM_WXGA {
	qcom,esd-check-enabled;
	qcom,mdss-dsi-panel-status-check-mode="reg_read_irq";
	qcom,mdss-dsi-panel-status-irq-trigger1 ="falling";
	qcom,mdss-dsi-panel-status-value = <1>;

	samsung,esd-irq-gpio1 = <&tlmm 59 0>;

	/* IN_CELL panel control LCD & TSP power at the same time */

	/* Qcomm display power table
	 * These regulators will be calledi in order, before LP11.
	 */
	qcom,panel-supply-entries {
		#address-cells = <1>;
		#size-cells = <0>;

		/* VDD_LCD_1P8 */
		qcom,panel-supply-entry@0 {
			reg = <0>;
			qcom,supply-name = "vddlcd";
			qcom,supply-min-voltage = <1800000>;
			qcom,supply-max-voltage = <1800000>;
			qcom,supply-enable-load = <100000>;
			qcom,supply-disable-load = <100>;
			qcom,supply-post-on-sleep = <0>;
			qcom,supply-pre-off-sleep = <5>;
		};

		qcom,panel-supply-entry@1 {
			reg = <1>;
			qcom,supply-name = "vsp";
			qcom,supply-min-voltage = <DEFAULT_FIXED_VAL>;
			qcom,supply-max-voltage = <DEFAULT_FIXED_VAL>;
			qcom,supply-enable-load = <DEFAULT_FIXED_VAL>;
			qcom,supply-disable-load = <DEFAULT_FIXED_VAL>;
			qcom,supply-post-on-sleep = <30>;
		};
	};
};

&mdss_dsi0 {
	qcom,dsi-pref-prim-pan = <&ss_dsi_panel_S6D7AA0X11_TV080WXM_WXGA>;

	pinctrl-names = "mdss_default", "mdss_sleep";
	pinctrl-0 = <&mdss_lcd_active &mdss_blic_active &mdss_esd_active>;
	pinctrl-1 = <&mdss_lcd_suspend &mdss_blic_suspend &mdss_esd_suspend>;

	vddlcd-supply = <&pm8917_l15>;

	vsp-supply = <&msmgpio94_vreg>;
	/*vsn-supply = <&fixed_reg_vsn>;*/

	qcom,platform-reset-gpio = <&tlmm 60 GPIOF_OUT_INIT_HIGH>;
};

&ss_dsi_panel_PBA_BOOTING_HD {
	samsung,panel-vendor = "BOE";
};

&ss_dsi_panel_S6D7AA0X11_TV080WXM_WXGA {
	qcom,mdss-dsi-v-pulse-width = <12>;

	qcom,mdss-dsi-on-command = [
					39 01 00 00 00 00 03 F0 5A 5A
					39 01 00 00 00 00 03 F1 5A 5A
					39 01 00 00 00 00 03 FC A5 A5
					39 01 00 00 00 00 03 D0 00 10

					/* PWM Setting */
					39 01 00 00 00 00 04 C3 C7 00 29 /* PWM Freq. 24KHz */
					39 01 00 00 00 00 02 B3 51 /* PWM reference clock */
					39 01 00 00 00 00 02 53 24 /* PWM on, dimming off */
					39 01 00 00 00 00 02 51 7F /* PWM duty */
					39 01 00 00 00 00 02 C1 01 /* PWM manual mode */

					/* Porch Setting + 10ms(0xA) Delay */
					39 01 00 00 0A 00 06 F2 02 28 1C 98 24 /* 02,(VBP+VPW),(VFP),(HBP+HPW),HFP */

					/* Sleep Out + 120ms(0x78) Delay */
					05 01 00 00 78 00 02 11 00

					39 01 00 00 00 00 03 F0 A5 A5
					39 01 00 00 00 00 03 F1 A5 A5
					39 01 00 00 00 00 03 FC 5A 5A
	];
	qcom,mdss-dsi-panel-timings = [87 1E 14 00 42 46 18 28 25 03 04 00];
	qcom,mdss-dsi-t-clk-pre = <0x1B>;
	/*qcom,mdss-dsi-panel-clockrate = <479460000>;*/

	/delete-property/ samsung,enter_hbm_lux;

	samsung,candela_map_table_revA = <
		/*<idx>	  <from>  <till> <scaled_level> */
			0		0		0		0
			1		1		1		1
			1		2		12		2		/* Min brightness */
			2		13		15		3
			3		16		17		4
			4		18		20		5
			5		21		22		6
			6		23		25		7
			7		26		27		8		/* Dim brightness */
			8		28		30		9
			9		31		32		10
			10		33		35		11
			11		36		37		12
			12		38		40		13
			13		41		42		14
			14		43		45		15
			15		46		47		16
			16		48		50		17
			17		51		52		18
			18		53		55		19
			19		56		57		20
			20		58		60		21
			21		61		62		22
			22		63		65		23
			23		66		67		24
			24		68		70		25
			25		71		72		26
			26		73		75		27
			27		76		77		28
			28		78		80		29
			29		81		82		30
			30		83		83		31
			31		84		84		32
			32		85		85		33
			33		86		86		34
			34		87		87		35
			35		88		89		36
			36		90		90		37
			37		91		91		38
			38		92		92		39
			39		93		93		40
			40		94		94		41
			41		95		95		42
			42		96		96		43
			43		97		97		44
			44		98		98		45
			45		99		99		46
			46		100		100		47
			47		101		101		48
			48		102		102		49
			49		103		103		50
			50		104		104		51
			51		105		105		52
			52		106		106		53
			53		107		107		54
			54		108		108		55
			55		109		109		56
			56		110		110		57
			57		111		111		58
			58		112		112		59
			59		113		113		60
			60		114		114		61
			61		115		115		62
			62		116		116		63
			63		117		117		64
			64		118		118		65
			65		119		119		66
			66		120		120		67
			67		121		121		68
			68		122		122		69
			69		123		123		70
			70		124		124		71
			71		125		125		72		/* Default brightness level(190CD) */
			72		126		126		73
			73		127		127		74
			74		128		128		75
			75		129		129		76
			76		130		130		77
			77		131		131		78
			78		132		132		79
			79		133		133		81
			80		134		134		82
			81		135		135		83
			82		136		136		84		/* Default brightness level(190CD, 75) */
			83		137		137		85
			84		138		138		87
			85		139		139		88
			86		140		140		89
			87		141		141		90
			88		142		142		91
			89		143		143		93
			90		144		144		94
			91		145		145		95
			92		146		146		97
			93		147		147		99
			94		148		148		100
			95		149		149		101
			96		150		150		102
			97		151		151		103
			98		152		152		105
			99		153		153		106
			100		154		154		107
			101		155		155		108
			102		156		156		109
			103		157		157		111
			104		158		158		112
			105		159		159		113
			106		160		160		114
			107		161		161		116
			108		162		162		117
			109		163		163		118
			110		164		164		119
			111		165		165		120
			112		166		166		121
			113		167		167		123
			114		168		168		124
			115		169		169		125
			116		170		170		126
			117		171		171		127
			118		172		172		129
			119		173		173		130
			120		174		174		132
			121		175		175		133
			122		176		176		135
			123		177		177		136
			124		178		178		137
			125		179		179		138
			126		180		180		139
			127		181		181		141
			128		182		182		142
			129		183		183		143
			130		184		184		144
			131		185		185		145
			132		186		186		147
			133		187		187		149
			134		188		188		150
			135		189		189		151
			136		190		190		153
			137		191		191		154
			138		192		192		155
			139		193		193		156
			140		194		194		157
			141		195		195		158
			142		196		196		159
			143		197		197		160
			144		198		198		161
			145		199		199		162
			146		200		200		163
			147		201		201		164
			148		202		202		165
			149		203		203		166
			150		204		204		167
			151		205		205		168
			152		206		206		169
			153		207		207		170
			154		208		208		171
			155		209		209		172
			156		210		210		173
			157		211		211		174
			158		212		212		175
			159		213		213		176
			160		214		214		177
			161		215		215		178
			162		216		216		179
			163		217		217		180
			164		218		218		181
			165		219		219		182
			166		220		220		183
			167		221		221		184
			168		222		222		185
			169		223		223		186
			170		224		224		187
			171		225		229		188
			172		230		234		189
			173		235		244		190
			174		245		249		191
			175		250		254		192
			176		255		255		193		/* MAX brightness(202) */
			177		256		256		223		/* Outdoor brightness(320) */
		>;
};
